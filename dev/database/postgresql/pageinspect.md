---
aliases:
  - pageinspect
tags:
  - maturity/üå±
date: 2024-10-21
---
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
```sql
create extension pageinspect
```
## –ê–Ω–∞–ª–∏–∑ –∏–Ω–¥–µ–∫—Å–æ–≤
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ pageinspect –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–Ω–¥–µ–∫—Å–∞ (—Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ). 

![](../../../meta/files/images/Pasted%20image%2020240610084449.png)

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã:
```sql
select * from pg_indexes where tablename='table_name';
```

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏–Ω–¥–µ–∫—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∏ –∫–æ–≥–¥–∞ –±—ã–ª –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã–∑–æ–≤.
```sql
select * from pg_stat_user_indexes
```

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–º–µ—Ä –∏–Ω–¥–µ–∫—Å–∞
```sql
select pg_size_pretty(pg_indexes_size('orders'))
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–µ—Ä–µ–≤–µ –∏–Ω–¥–µ–∫—Å–∞:
```sql
select * from bt_metap('users_pkey');
```

–ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —É–∑–ª–µ:
```sql
select * from bt_page_stats('users_pkey', 3);
```

***
## –ú–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–û–±–ª–∞—Å—Ç—å**:: [[../../../meta/zero/00 PostgreSQL|00 PostgreSQL]]
**–†–æ–¥–∏—Ç–µ–ª—å**:: [[–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ PostgreSQL]]
**–ò—Å—Ç–æ—á–Ω–∏–∫**:: 
**–°–æ–∑–¥–∞–Ω–∞**:: [[2024-10-21]]
**–ê–≤—Ç–æ—Ä**:: 
### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- 

### –î–æ—á–µ—Ä–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
<!-- QueryToSerialize: LIST FROM [[]] WHERE contains(–†–æ–¥–∏—Ç–µ–ª—å, this.file.link) or contains(parents, this.file.link) -->

