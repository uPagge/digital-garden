---
aliases: 
tags:
  - maturity/üå±
date: 2024-11-12
---
–≠—Ç–∞ –∑–∞–º–µ—Ç–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å LVM (Logical Volume Management) –≤ Linux. –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Ç–æ–º–∞, –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–æ–º–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏, —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤, –∞ —Ç–∞–∫–∂–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ.
## Physical Volumes
- `pvcreate <device>` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ LVM.
- `pvdisplay` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–∞—Ö.
- `pvs` ‚Äî –≤—ã–≤–æ–¥ –≤—Å–µ—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–æ–≤ —Å –∫—Ä–∞—Ç–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π. –û–±—ä–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.
- `pvscan` ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–∏—Å–∫–æ–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–æ–≤.
- `pvresize <device>` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞.
## Volume Groups
- `vgcreate <volume-group> <physical-volume>` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤ –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–æ–≤.
- `vgextend <volume-group> <physical-volume>` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –≥—Ä—É–ø–ø—É —Ç–æ–º–æ–≤.
- `vgreduce <volume-group> <physical-volume>` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞ –∏–∑ –≥—Ä—É–ø–ø—ã.
- `vgdisplay` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≥—Ä—É–ø–ø–∞—Ö —Ç–æ–º–æ–≤.
- `vgs` ‚Äî –≤—ã–≤–æ–¥ –≤—Å–µ—Ö –≥—Ä—É–ø–ø —Ç–æ–º–æ–≤ —Å –∫—Ä–∞—Ç–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
- `vgscan` ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–∏—Å–∫–æ–≤ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –≥—Ä—É–ø–ø —Ç–æ–º–æ–≤.
- `vgremove <volume-group>` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤ (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—É—Å—Ç–æ–π).
- `vgrename <old-name> <new-name>` ‚Äî –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤.
## Logical Volumes
- `lvcreate -L <size> -n <name> <volume-group>` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞ –≤ –≥—Ä—É–ø–ø–µ.
- `lvextend -L <size> <logical-volume>` ‚Äî —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞.
- `lvreduce -L <size> <logical-volume>` ‚Äî —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞.
- `lvresize -L <size> <logical-volume>` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞ –¥–æ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è.
- `lvdisplay` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–∞—Ö.
- `lvs` ‚Äî –≤—ã–≤–æ–¥ –≤—Å–µ—Ö –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–æ–≤ —Å –∫—Ä–∞—Ç–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.
- `lvscan` ‚Äî —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–∏—Å–∫–æ–≤ –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–æ–≤.
- `lvrename <volume-group> <old-name> <new-name>` ‚Äî –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞.
### –£–¥–∞–ª–µ–Ω–∏–µ Logical Volume
–†–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞–ø–∫—É –æ—Ç LV.

```shell
umount /folder/path
```

–û—Ç–∫—Ä–æ–π—Ç–µ `/etc/fstab` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –∑–∞–ø–∏—Å–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. –ï—Å–ª–∏ –µ—Å—Ç—å, —É–¥–∞–ª–∏—Ç–µ –∑–∞–ø–∏—Å—å, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∑–∞–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª.

```
nano /etc/fstab
```

–¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫ –¥–∞–Ω–Ω–æ–π –ø–∞–ø–∫–µ –Ω–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω docker volume.

–ü–æ—Å–ª–µ —á–µ–≥–æ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å LV
```shell
lvchange -an /dev/vgname/lvmname
lvremove /dev/vgname/lvmname
```
### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç–æ–º–∞—Ö
- `mkfs.ext4 /dev/<volume-group>/<logical-volume>` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã ext4 –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–º —Ç–æ–º–µ.
- `mkfs.xfs /dev/<volume-group>/<logical-volume>` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã XFS –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–º —Ç–æ–º–µ.
- `mount /dev/<volume-group>/<logical-volume> /mnt` ‚Äî –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.
- `umount /mnt` ‚Äî —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞.
## 5. –°–Ω–∏–º–∫–∏ (Snapshots)
- `lvcreate -L <size> -s -n <snapshot-name> <lv>` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–∞ –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞.
- `lvremove <snapshot-name>` ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ —Å–Ω–∏–º–∫–∞.
- `lvconvert --merge <snapshot-name>` ‚Äî –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–Ω–∏–º–∫–∞ —Å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—á–µ—Å–∫–∏–º —Ç–æ–º–æ–º.
## 6. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ LVM
- `lvchange -a y <logical-volume>` ‚Äî –∞–∫—Ç–∏–≤–∞—Ü–∏—è –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞.
- `lvchange -a n <logical-volume>` ‚Äî –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–æ–º–∞.
- `vgchange -a y <volume-group>` ‚Äî –∞–∫—Ç–∏–≤–∞—Ü–∏—è –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤.
- `vgchange -a n <volume-group>` ‚Äî –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤.
- `vgcfgbackup <volume-group>` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤.
- `vgcfgrestore <volume-group>` ‚Äî –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø—ã —Ç–æ–º–æ–≤ –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏.
***
## –ú–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–û–±–ª–∞—Å—Ç—å**:: [[../../meta/zero/00 Linux|00 Linux]]
**–†–æ–¥–∏—Ç–µ–ª—å**:: [[Logical Volume Management|Logical Volume Management]]
**–ò—Å—Ç–æ—á–Ω–∏–∫**:: 
**–°–æ–∑–¥–∞–Ω–∞**:: [[2024-11-12]]
**–ê–≤—Ç–æ—Ä**:: 
### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- 

### –î–æ—á–µ—Ä–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
<!-- QueryToSerialize: LIST FROM [[]] WHERE contains(–†–æ–¥–∏—Ç–µ–ª—å, this.file.link) or contains(parents, this.file.link) -->

