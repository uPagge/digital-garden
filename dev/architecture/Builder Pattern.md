---
aliases: 
tags:
  - maturity/üå±
date: 2024-10-04
zero-link: 
parents: 
linked:
---
Builder Pattern ‚Äî —ç—Ç–æ [[–ø–æ—Ä–æ–∂–¥–∞—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è]], –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ—à–∞–≥–æ–≤–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –µ–≥–æ —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã –Ω–µ—É–¥–æ–±–Ω—ã–º –∏–ª–∏ –¥–∞–∂–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º.

–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏
- **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è**. –ë–∏–ª–¥–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –æ—Ç –µ–≥–æ –∫–æ–Ω–µ—á–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Å—Ç—ã–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–º.
- **–ü–æ—à–∞–≥–æ–≤–∞—è —Å–±–æ—Ä–∫–∞**. –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–ª–∏ —á–∞—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –ø—Ä–∏ —ç—Ç–æ–º —Å–∞–º –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –º–æ–∂–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –º–µ–Ω—è—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏ –æ–±—ä–µ–∫—Ç–∞.
- **–ò–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å**. –ü–∞—Ç—Ç–µ—Ä–Ω –±–∏–ª–¥–µ—Ä —á–∞—Å—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤. –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –æ–±—ä–µ–∫—Ç–∞ –µ–≥–æ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å, —á—Ç–æ —É–ª—É—á—à–∞–µ—Ç –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

## –ü—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ `Car`, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –º–Ω–æ–≥–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Ç–∏–ø –¥–≤–∏–≥–∞—Ç–µ–ª—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–≤–µ—Ä–µ–π, —Ü–≤–µ—Ç –∏ —Ç.–¥.

–ë–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ ¬´–ë–∏–ª–¥–µ—Ä¬ª –º—ã –º–æ–∂–µ–º —Å—Ç–æ–ª–∫–Ω—É—Ç—å—Å—è —Å —Ç–∞–∫–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π: –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ã, —á—Ç–æ —É—Ö—É–¥—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–æ–¥–∞. –ü–∞—Ç—Ç–µ—Ä–Ω ¬´–ë–∏–ª–¥–µ—Ä¬ª –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ, –ø—Ä–∏ —ç—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É—è [[Fluent API|fluent API]] —Å—Ç–∏–ª—å ‚Äî –ø–æ–¥—Ö–æ–¥, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–∞–º –æ–±—ä–µ–∫—Ç –±–∏–ª–¥–µ—Ä–∞, –ø–æ–∑–≤–æ–ª—è—è –≤—ã–∑—ã–≤–∞—Ç—å –∏—Ö —Ü–µ–ø–æ—á–∫–æ–π. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–º –∏ –ª–µ–≥–∫–∏–º –¥–ª—è —á—Ç–µ–Ω–∏—è.

```java
public class Car {
    private String engine;
    private int doors;
    private String color;

    private Car(CarBuilder builder) {
        this.engine = builder.engine;
        this.doors = builder.doors;
        this.color = builder.color;
    }

    public static class CarBuilder {
        private String engine;
        private int doors;
        private String color;

        public CarBuilder setEngine(String engine) {
            this.engine = engine;
            return this;
        }

        public CarBuilder setDoors(int doors) {
            this.doors = doors;
            return this;
        }

        public CarBuilder setColor(String color) {
            this.color = color;
            return this;
        }

        public Car build() {
            return new Car(this);
        }
    }
    
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞:
```java
Car car = new Car.CarBuilder()
    .setEngine("V8")
    .setDoors(4)
    .setColor("Red")
    .build();

System.out.println(car);
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**
1. **–ß–∏—Å—Ç—ã–π –∫–æ–¥**. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Å–Ω–æ–π –∏ –ø–æ–Ω—è—Ç–Ω–æ–π, –¥–∞–∂–µ –µ—Å–ª–∏ —É –æ–±—ä–µ–∫—Ç–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
2. **–ì–∏–±–∫–æ—Å—Ç—å –≤ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤**. –ú–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ä–∞–∑—É, –∞ –¥–æ–±–∞–≤–ª—è—Ç—å –∏—Ö –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –±–æ–ª–µ–µ –≥–∏–±–∫–∏–º.
3. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–º–º—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç–∏**. –û–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º–∏ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏.
4. **–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–æ–∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏**
- **–£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∫–æ–¥–∞**. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∞-–±–∏–ª–¥–µ—Ä–∞ –º–æ–∂–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –æ–±—ä–µ–º –∫–æ–¥–∞, –æ—Å–æ–±–µ–Ω–Ω–æ –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç –Ω–µ –Ω–∞—Å—Ç–æ–ª—å–∫–æ —Å–ª–æ–∂–µ–Ω, —á—Ç–æ–±—ã –æ–ø—Ä–∞–≤–¥–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞.
- **–ú–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ—Å—Ç—å**. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–∏–ª–¥–µ—Ä–∞ –º–æ–∂–µ—Ç –∫–∞–∑–∞—Ç—å—Å—è –∏–∑–ª–∏—à–Ω–∏–º –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—É—é –º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ—Å—Ç—å.

**–ö–æ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—Ç—å?**
- –ö–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
- –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω –≥–∏–±–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ—à–∞–≥–æ–≤–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
- –ö–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–º, –∏ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –º–µ–Ω—è—Ç—å—Å—è.

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –±–∏–ª–¥–µ—Ä
### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
–û–¥–Ω–æ–π –∏–∑ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —è–≤–ª—è–µ—Ç—Å—è ==–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —è–≤–Ω–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è== –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –±–∏–ª–¥–µ—Ä–∞. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç –∏–º–µ–µ—Ç –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–ª–∏ –∏–º—è), –Ω–æ –∏—Ö —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –±–∏–ª–¥–µ—Ä–æ–º, —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ**:
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∏–ª–¥–µ—Ä–∞, —á—Ç–æ–±—ã –∏—Ö —É–∫–∞–∑–∞–Ω–∏–µ –±—ã–ª–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º. –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫—É –º–µ—Ç–æ–¥–æ–≤.

–ü—Ä–∏–º–µ—Ä:
```java
public class Car {
    private final String engine;  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
    private final String model;   // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
    private int doors;            // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
    private String color;         // –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ

    // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—ä–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ –±–∏–ª–¥–µ—Ä
    private Car(CarBuilder builder) {
        this.engine = builder.engine;
        this.model = builder.model;
        this.doors = builder.doors;
        this.color = builder.color;
    }

    // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–∏–ª–¥–µ—Ä–∞ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
    public static CarBuilder builder(String engine, String model) {
        return new CarBuilder(engine, model);
    }

    public static class CarBuilder {
        private final String engine;  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
        private final String model;   // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
        private int doors = 4;        // –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        private String color = "Black";  // –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

        // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–∏–ª–¥–µ—Ä–∞ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
        public CarBuilder(String engine, String model) {
            if (engine == null || engine.isEmpty()) {
                throw new IllegalArgumentException("Engine is required");
            }
            if (model == null || model.isEmpty()) {
                throw new IllegalArgumentException("Model is required");
            }
            this.engine = engine;
            this.model = model;
        }

        // –ú–µ—Ç–æ–¥—ã –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
        public CarBuilder setDoors(int doors) {
            this.doors = doors;
            return this;
        }

        public CarBuilder setColor(String color) {
            this.color = color;
            return this;
        }

        // –ú–µ—Ç–æ–¥ –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—ä–µ–∫—Ç–∞ Car
        public Car build() {
            return new Car(this);
        }
    }
}
```

–¢–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±–∏–ª–¥–µ—Ä–∞:
```java
Car car = Car.builder("V8", "Sedan")  // –ü–µ—Ä–µ–¥–∞—á–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥
    .setDoors(2)                      // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
    .setColor("Red")
    .build();
```
### –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞
–ï—â—ë –æ–¥–Ω–∞ —á–∞—Å—Ç–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è ==–Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ–ª–µ–π.== –ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π –∏–ª–∏ –ª–æ–≥–∏–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞.

**–†–µ—à–µ–Ω–∏–µ**:
–î–æ–±–∞–≤–ª—è–π—Ç–µ –≤ –±–∏–ª–¥–µ—Ä –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –æ–±—ä–µ–∫—Ç–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã –∏ –æ–±—ä–µ–∫—Ç –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω.

–ü—Ä–∏–º–µ—Ä:
```java
public Car build() {
    if (doors < 2 || doors > 6) {
        throw new IllegalArgumentException("Invalid number of doors");
    }
    return new Car(this);
}
```
### –ú–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤
–ö–æ–≥–¥–∞ –º–µ—Ç–æ–¥—ã –±–∏–ª–¥–µ—Ä–∞ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, —á—Ç–æ –º–æ–∂–µ—Ç –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω—ã–º –∏–ª–∏ –≤—ã–∑–≤–∞—Ç—å –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å –±–∏–ª–¥–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ `Car`, –∏ –º–µ—Ç–æ–¥ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–≤–µ—Ä–µ–π (`setDoors`) –±—ã–ª –≤—ã–∑–≤–∞–Ω –¥–≤–∞–∂–¥—ã:
```java
Car car = new Car.CarBuilder("V8")
    .setDoors(4)
    .setDoors(2)  // –≠—Ç–æ—Ç –≤—ã–∑–æ–≤ –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    .setColor("Red")
    .build();
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ–±—ä–µ–∫—Ç car –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω —Å –¥–≤—É–º—è –¥–≤–µ—Ä—è–º–∏, —Ö–æ—Ç—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –º–æ–≥ –æ–∂–∏–¥–∞—Ç—å, —á—Ç–æ –±—É–¥–µ—Ç 4 –¥–≤–µ—Ä–∏ (–∏–∑-–∑–∞ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞). –¢–∞–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –æ—Å–æ–±–µ–Ω–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∞, –∫–æ–≥–¥–∞ –æ–±—ä–µ–∫—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –∏–ª–∏ –∫–æ–≥–¥–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç —Å –±–∏–ª–¥–µ—Ä–æ–º, –Ω–µ –∑–Ω–∞—è –≤—Å–µ—Ö –¥–µ—Ç–∞–ª–µ–π.
#### –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã
**–í–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤.** –ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –º–µ—Ç–æ–¥–∞, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å, –±—ã–ª –ª–∏ –º–µ—Ç–æ–¥ —É–∂–µ –≤—ã–∑–≤–∞–Ω —Ä–∞–Ω–µ–µ. –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ, –º–æ–∂–Ω–æ –≤—ã–±—Ä–æ—Å–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤.

```java
public static class CarBuilder {
    private String engine;
    private int doors;
    private String color;
    private boolean doorsSet = false;  // –§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ —Ç–æ, —á—Ç–æ –º–µ—Ç–æ–¥ setDoors —É–∂–µ –±—ã–ª –≤—ã–∑–≤–∞–Ω

    public CarBuilder(String engine) {
        this.engine = engine;
    }

    public CarBuilder setDoors(int doors) {
        if (doorsSet) {
            throw new IllegalStateException("Doors can only be set once");
        }
        this.doors = doors;
        doorsSet = true;
        return this;
    }

    public CarBuilder setColor(String color) {
        this.color = color;
        return this;
    }

    public Car build() {
        return new Car(this);
    }
}
```

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.** –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–µ –≤—ã–∑–æ–≤—ã –º–µ—Ç–æ–¥–æ–≤, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –≤–∞–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, —á—Ç–æ–±—ã –±—ã–ª–æ –≤–∏–¥–Ω–æ, –∫–æ–≥–¥–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

```java
public CarBuilder setDoors(int doors) {
    if (this.doors != 0) {
        System.out.println("Warning: Doors value is being overwritten from " + this.doors + " to " + doors);
    }
    this.doors = doors;
    return this;
}
```

 **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** [[Fluent API#Step building|Fluent API Step building]]. –ü–æ–∑–≤–æ–ª–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
 
```java
public class Car {
    private final String engine;  // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
    private final int doors;      // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
    private final String color;   // –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ

    // –ü—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è —Å–±–æ—Ä–∫–∏ —á–µ—Ä–µ–∑ –ø–æ—à–∞–≥–æ–≤—É—é —Å–±–æ—Ä–∫—É
    private Car(String engine, int doors, String color) {
        this.engine = engine;
        this.doors = doors;
        this.color = color;
    }

    // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞: –≤—ã–±–æ—Ä –¥–≤–∏–≥–∞—Ç–µ–ª—è
    public interface EngineStep {
        DoorsStep setEngine(String engine);
    }

    // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Ç–æ—Ä–æ–≥–æ —à–∞–≥–∞: –≤—ã–±–æ—Ä –¥–≤–µ—Ä–µ–π
    public interface DoorsStep {
        ColorStep setDoors(int doors);
    }

    // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ç—Ä–µ—Ç—å–µ–≥–æ —à–∞–≥–∞: –≤—ã–±–æ—Ä —Ü–≤–µ—Ç–∞
    public interface ColorStep {
        BuildStep setColor(String color);
    }

    // –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ —à–∞–≥–∞: –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏
    public interface BuildStep {
        Car build();
    }

    // –ö–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ—à–∞–≥–æ–≤—É—é —Å–±–æ—Ä–∫—É
    public static class Builder implements EngineStep, DoorsStep, ColorStep, BuildStep {
        private String engine;
        private int doors;
        private String color;

        @Override
        public DoorsStep setEngine(String engine) {
            this.engine = engine;
            return this;
        }

        @Override
        public ColorStep setDoors(int doors) {
            this.doors = doors;
            return this;
        }

        @Override
        public BuildStep setColor(String color) {
            this.color = color;
            return this;
        }

        @Override
        public Car build() {
            return new Car(engine, doors, color);
        }
    }

    // –ú–µ—Ç–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ—à–∞–≥–æ–≤–æ–π —Å–±–æ—Ä–∫–∏
    public static EngineStep builder() {
        return new Builder();
    }
}
```

***
## –ú–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–û–±–ª–∞—Å—Ç—å**:: [[../../meta/zero/00 –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞|00 –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞]]
**–†–æ–¥–∏—Ç–µ–ª—å**:: [[–ü–æ—Ä–æ–∂–¥–∞—é—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è]]
**–ò—Å—Ç–æ—á–Ω–∏–∫**:: 
**–°–æ–∑–¥–∞–Ω–∞**:: [[2024-10-04]]
**–ê–≤—Ç–æ—Ä**:: 
### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- 

### –î–æ—á–µ—Ä–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
<!-- QueryToSerialize: LIST FROM [[]] WHERE contains(–†–æ–¥–∏—Ç–µ–ª—å, this.file.link) or contains(parents, this.file.link) -->

