---
aliases:
  - –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫—ç—à–∞
tags:
  - maturity/üå±
date:
  - - 2024-06-18
zero-link:
  - "[[../../../meta/zero/00 HighLoad|00 HighLoad]]"
parents:
  - "[[../–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ|–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ]]"
linked:
---
–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—ç—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞. –ü—Ä–∏—á–µ–º –æ—á–µ–Ω—å –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã –∫—ç—à —Å–±—Ä–∞—Å—ã–≤–∞–ª—Å—è —Å—Ä–∞–∑—É –∂–µ –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–ª–∏ –≤—ã–±–æ—Ä–∫—É –∏–∑ –ë–î, —Ä–∞–Ω–æ –∏–ª–∏ –ø–æ–∑–¥–Ω–æ –∏—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏–∑–º–µ–Ω—è—Ç—Å—è, –∏ –∫—ç—à –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º. 

**–°–ø–æ—Å–æ–±—ã –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏:**
- –ü–æ –∏—Å—Ç–µ—á–µ–Ω–∏—é —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è - TTL. 
	- –°–∞–º–∞—è –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è.   
	- –ü—Ä–∏ –º–∞–ª–æ–º TTL –±—É–¥–µ—Ç –≤—ã—Å–æ–∫–∏–π [CacheMissRate](CacheMissRate.md)
	- –ü—Ä–∏ –±–æ–ª—å—à–æ–º TTL –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã
- –ü–æ —Å–æ–±—ã—Ç–∏—é
	- –û–ø–∞—Å–Ω–æ –∏–∑-–∑–∞ —Ä–∏—Å–∫–∞ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–µ–π [[–ü–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –∫—ç—à–∞|–ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞]]
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ [[../../algorithm/–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è –∫—ç—à–∞|–∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è]]

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å [[../Fingerprint|Fingerprint]].

## –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ TTL
–û–¥–∏–Ω –∏–∑ –ø–æ–¥—Ö–æ–¥–æ–≤ —ç—Ç–æ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏. –î–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è TTL, –∏ –ø–æ –ø—Ä–æ—à–µ—Å—Ç–≤–∏—é –≤—Ä–µ–º–µ–Ω–∏ –∫—ç—à —É–¥–∞–ª—è–µ—Ç—Å—è. –¢–∞–∫–æ–µ –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–µ–¥–∫–æ –∏–∑–º–µ–Ω—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —É—Å—Ç–∞—Ä–µ–≤–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å–µ—Ä—å–µ–∑–Ω—ã–º –ø—Ä–æ–±–ª–µ–º–∞–º –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä —Å–ª–æ–≤–∞—Ä–∏.

–ü—Ä–∏ —Ç–∞–∫–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –≤–∞–∂–Ω–æ –ø–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∫—ç—à–∞, —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–µ –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –±—É–¥–µ—Ç –¥–∞–≤–∞—Ç—å –ø–ª–æ—Ö—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–µ —É—Ö—É–¥—à–∏—Ç –æ–ø—ã—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –í –æ—Ü–µ–Ω–∫–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫—ç—à–∞ –ø–æ–º–æ–∂–µ—Ç –º–µ—Ç—Ä–∏–∫–∞ [[CacheMissRate]].
## –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ —Å–æ–±—ã—Ç–∏—é
–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã —É–¥–∞–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –∫—ç—à–∞ –ø–æ –∫–∞–∫–æ–º—É-—Ç–æ —Å–æ–±—ã—Ç–∏—é. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∫—ç—à, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑–∞–Ω —Å —ç—Ç–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–Ω–æ –Ω–µ —É–¥–∞–ª—è—Ç—å, –∞ —Å—Ä–∞–∑—É –∫–ª–∞—Å—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à, –µ—Å–ª–∏ –ø–æ–Ω–∏–º–∞–µ—Ç–µ, —á—Ç–æ –æ–Ω–∏ —Å–∫–æ—Ä–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è.

–ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ —Å–æ–±—ã—Ç–∏—é –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å TTL. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫—ç—à–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏, –∏ –µ—Å–ª–∏ –æ–Ω–æ –º–µ–Ω—å—à–µ, —á–µ–º –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å TTL –∑–∞–Ω–æ–≤–æ. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∫—ç—à–µ, –µ—Å–ª–∏ –∏–º–∏ –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–ª—å–∑—É—é—Ç—Å—è.

–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è TTL –Ω–∞ Lua:
```lua
local key = KEYS[1];
local threshold = tonumber(ARGV[1]);
local new_ttl = tonumber(ARGV[2]);
local value = redis.call('get', key);
if value then
	local ttl = redis.call('pttl', key);
	if ttl >= 0 and ttl <= threshold then
		redis.call('pexpire', key, new_ttl);
	end;
end;
return value;
```
***
## –ú–µ—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
**–û–±–ª–∞—Å—Ç—å**:: [[../../../meta/zero/00 HighLoad|00 HighLoad]]
**–†–æ–¥–∏—Ç–µ–ª—å**:: [[../–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ|–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ]]
**–ò—Å—Ç–æ—á–Ω–∏–∫**:: 
**–ê–≤—Ç–æ—Ä**:: 
**–°–æ–∑–¥–∞–Ω–∞**:: [[2024-06-18]]
### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- 
### –î–æ—á–µ—Ä–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏
<!-- QueryToSerialize: LIST FROM [[]] WHERE contains(–†–æ–¥–∏—Ç–µ–ª—å, this.file.link) or contains(parents, this.file.link) -->
<!-- SerializedQuery: LIST FROM [[]] WHERE contains(–†–æ–¥–∏—Ç–µ–ª—å, this.file.link) or contains(parents, this.file.link) -->
- [[–ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è –∫—ç—à–∞]]
- [[Fingerprint]]
<!-- SerializedQuery END -->

