---
aliases: 
tags:
  - –∑—Ä–µ–ª–æ—Å—Ç—å/üå±
date: "[[2023-11-07]]"
zero-link:
  - "[[../../../../garden/ru/meta/zero/00 Java —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞]]"
parents:
  - "[[../../../../garden/ru/dev/java/gc/Garbage Collector]]"
linked: 
---
–≠—Ç–æ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–±–∏—Ä–∞—Ç—å –º—É—Å–æ—Ä –≤ —Ç–æ –∂–µ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ —Å–±–æ—Ä–∞ –º—É—Å–æ—Ä–∞ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## Marking

–í —ç—Ç–æ–º –∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–∞: –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∞ –∑–Ω–∞—á–∏—Ç –Ω–∞–º–Ω–æ–≥–æ —Å–ª–æ–∂–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∂–∏–≤—ã–µ/–º–µ—Ä—Ç–≤—ã–µ –æ–±—ä–µ–∫—Ç–∞, –∞ –µ—â–µ —Å–ª–æ–∂–Ω–µ–µ —ç–≤–∞–∫—É–∏—Ä–æ–≤–∞—Ç—å, —Ç–æ –µ—Å—Ç—å –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å —ç—Ç–∏ –æ–±—ä–µ–∫—Ç—ã.

–ú—ã –Ω–∞—á–∞–ª–∏ –æ–±—Ö–æ–¥–∏—Ç—å –≥—Ä–∞—Ñ, –∏ –≤ –º–æ–º–µ–Ω—Ç –æ–±—Ö–æ–¥–∞ —Å—Å—ã–ª–∫–∞ –∏–∑ —Å–µ—Ä–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –ø—Ä–æ–ø–∞–ª–∞, –∞ –≤ —á–µ—Ä–Ω–æ–º (–∫–æ—Ç–æ—Ä—ã–π –º—ã —É–∂–µ –ø–æ—Å–µ—Ç–∏–ª–∏), —Å—Å—ã–ª–∫–∞ –ø–æ—è–≤–∏–ª–∞—Å—å.

![](Pasted%20image%2020231108141633.png)

–ï—Å—Ç—å 2 —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É. –û–±–∞ —Ä–µ—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç –∑–∞–ø–∏—Å—å.
- [Incremental Update (IU)](Incremental%20Update%20(IU).md)
- [Snapshot at the beginning (SATB)](Snapshot%20at%20the%20beginning%20(SATB).md)

–û–±—ã—á–Ω–æ –ø—Ä–∏ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –º—ã –∏–º–µ–µ–º 2 –ø–∞—É–∑—ã:
- **Init Mark**. –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ Root Set.
	- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É—Ç–∞—Ç–æ—Ä, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏
	- –ü–æ–∫—Ä–∞—Å–∏—Ç—å –≤–µ—Å—å Root Set –≤ —á–µ—Ä–Ω—ã–π
	- –í–∑–≤–µ—Å—Ç–∏ [SATB](Snapshot%20at%20the%20beginning%20(SATB).md)/[Incremental Update (IU)](Incremental%20Update%20(IU).md) –±–∞—Ä—å–µ—Ä—ã –≤ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å
- **Final Mark**. –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ Root Set –∏ –¥–ª–∏–Ω—ã –æ—á–µ—Ä–µ–¥–µ–π.
	- –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º—É—Ç–∞—Ç–æ—Ä, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –≥–æ–Ω–∫–∏
	- –°–ª–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ –∏–∑ [SATB](Snapshot%20at%20the%20beginning%20(SATB).md)/[Incremental Update (IU)](Incremental%20Update%20(IU).md) –æ—á–µ—Ä–µ–¥–µ–π
	- –î–æ–¥–µ–ª–∞—Ç—å –º–∞—Ä–∫–∏—Ä–æ–≤–∫—É –∏–∑ —ç—Ç–∏—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ root set-–µ.

–ù–∞–±–ª—é–¥–µ–Ω–∏—è –ê–ª–µ–∫—Å–∏—è –®–∏–ø–µ–ª–µ–≤–∞:
- –•–æ—Ä–æ—à–æ —Å–¥–µ–ª–∞–Ω–Ω—ã–π [StopTheWorld](StopTheWorld.md) GC –ø–æ–±—å–µ—Ç —Ö–æ—Ä–æ—à–æ —Å–¥–µ–ª–∞–Ω–Ω—ã–π Concurrent GC –ø–æ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –î–∞–∂–µ –µ—Å–ª–∏ GC –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ [–±–∞—Ä—å–µ—Ä—ã](–ë–∞—Ä—å–µ—Ä—ã%20–≤%20–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.md).

## [Copy Collector](Copy%20Collector.md)
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç [StopTheWorld](StopTheWorld.md) –∑–¥–µ—Å—å –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã. –¢–µ–ø–µ—Ä—å –º—ã –ø—ã—Ç–∞–µ–º—Å—è –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –∑–Ω–∞—á–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç "–∑–∞—Å—Ç–∞—Ç—å –Ω–∞—Å –≤—Ä–∞—Å–ø–ª–æ—Ö", –∫–æ–≥–¥–∞ –º—ã –±—É–¥–µ–º –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ –æ–±—ä–µ–∫—Ç–∞.

![](Pasted%20image%2020231108164235.png)

–ó–¥–µ—Å—å –Ω–∞–º –ø–æ–º–æ–≥–∞—é—Ç Brooks pointers, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.

![](Pasted%20image%2020231108164343.png)

![](Pasted%20image%2020231108164414.png)
![](Pasted%20image%2020231108164430.png)
![](Pasted%20image%2020231108164445.png)
![](Pasted%20image%2020231108164517.png)
![](Pasted%20image%2020231108164501.png)
![](Pasted%20image%2020231108165010.png)
![](Pasted%20image%2020231108165036.png)
## –í—ã–≤–æ–¥—ã
**–ú–∏–Ω—É—Å—ã:**
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—É—é –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å heap, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –¥–∞–Ω–Ω—ã–º –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏. –î–ª—è —ç—Ç–æ–≥–æ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è [–±–∞—Ä—å–µ—Ä—ã](–ë–∞—Ä—å–µ—Ä—ã%20–≤%20–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.md), –∫–æ—Ç–æ—Ä—ã–µ –æ–∫–∞–∑—ã–≤–∞—é—Ç –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –†–µ—Å—É—Ä—Å—ã –∂–µ–ª–µ–∑–∞ —É—Ö–æ–¥—è—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É GC.