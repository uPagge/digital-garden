---
aliases: 
tags:
  - –∑—Ä–µ–ª–æ—Å—Ç—å/üå±
date:
  - - 2024-01-09
zero-link:
  - "[[00 –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è]]"
parents: 
linked:
---
## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–ª—é—á–∏:
```shell
gpg --list-keys --keyid-format=long
```

–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ **–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ** –∫–ª—é—á–∏:
```shell
gpg --list-secret-keys --keyid-format=long
```

–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å Yubikey
```shell
gpg --card-status
```

–≠–∫—Å–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
```shell
gpg --armor --export <KEY_ID>
```

–≠–∫—Å–ø–æ—Ä—Ç **–ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ** –∫–ª—é—á–∞
```shell
gpg --armor --export-secret-key <KEY_ID>
```

–£–¥–∞–ª–∏—Ç—å –∫–ª—é—á
```shell
gpg --delete-key [uid]
```

–£–¥–∞–ª–∏—Ç—å **—Å–µ–∫—Ä–µ—Ç–Ω—ã–π** –∫–ª—é—á
```shell
gpg --delete-secret-key [uid]
```
## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª—é—á–∞
```shell
gpg --full-generate-key
```

–ù–∞–º –ø—Ä–µ–¥–ª–æ–∂–∞—Ç –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –∫–ª—é—á–∞

```
–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–ª—é—á–∞:
   (1) RSA and RSA
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
   (9) ECC (sign and encrypt) *default*
  (10) ECC (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏)
  (14) Existing key from card
```

–°–∞–º—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (9). –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç (10). –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –º–µ–∂–¥—É –Ω–∏–º–∏ –Ω–µ –±—É–¥–µ—Ç —Ä–∞–∑–Ω–∏—Ü—ã.

–î–∞–ª–µ–µ –≤—ã–±–∏—Ä–∞–µ–º —ç–ª–µ–ø—Ç–∏—á–µ—Å–∫—É—é –∫—Ä–∏–≤—É—é. –¢–∞–∫–∂–µ –æ—Å—Ç–∞–≤–ª—è–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (1):

```
–í—ã–±–µ—Ä–∏—Ç–µ —ç–ª–ª–∏–ø—Ç–∏—á–µ—Å–∫—É—é –∫—Ä–∏–≤—É—é:
   (1) Curve 25519 *default*
   (4) NIST P-384
   (6) Brainpool P-256
```

–¢–µ–ø–µ—Ä—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–ª—é—á–∞.

```
–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–ª—é—á–∞.
         0 = –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω
      <n>  = —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–ª—é—á–∞ - n –¥–Ω–µ–π
      <n>w = —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–ª—é—á–∞ - n –Ω–µ–¥–µ–ª—å
      <n>m = —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–ª—é—á–∞ - n –º–µ—Å—è—Ü–µ–≤
      <n>y = —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–ª—é—á–∞ - n –ª–µ—Ç
–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∫–ª—é—á–∞? (0) 1y
```

–ü–æ—Å–ª–µ —á–µ–≥–æ –Ω–∞–¥–æ —É–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ–±–µ: –§–ò–û, –ø–æ—á—Ç—É. –í –ø—Ä–∏–º–µ—á–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∑–∞—á–µ–º —Å–æ–∑–¥–∞–µ—Ç—Å—è —ç—Ç–æ—Ç GPG –∫–ª—é—á, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –Ω–µ –ø—É—Ç–∞—Ç—å—Å—è.

```
–í–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è: Struchkov Mark
–ê–¥—Ä–µ—Å —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–π –ø–æ—á—Ç—ã: mark@struchkov.dev
–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: Key for git commit
–í—ã –≤—ã–±—Ä–∞–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
    "Struchkov Mark (Key for git commit) <mark@struchkov.dev>"

–°–º–µ–Ω–∏—Ç—å (N)–ò–º—è, (C)–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ, (E)–ê–¥—Ä–µ—Å; (O)–ü—Ä–∏–Ω—è—Ç—å/(Q)–í—ã—Ö–æ–¥? O
```

–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –≤–≤–µ–¥–µ–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –ü–æ—Å–ª–µ —á–µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏–¥—É–º–∞—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –∑–∞—â–∏—Ç—ã GPG –∫–ª—é—á–∞.

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞
–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–ª—é—á –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–∞—Å—Ç–µ—Ä –∫–ª—é—á–∞. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–ª—é—á –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ —Ç–æ–º—É –∂–µ email —á—Ç–æ –∏ –º–∞—Å—Ç–µ—Ä –∫–ª—é—á, –Ω–æ –∏–º–µ–µ—Ç —Å–≤–æ–π —Å—Ä–æ–∫ –∂–∏–∑–Ω–∏. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å—å –∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º—É –∫–ª—é—á—É.

```bash
gpg --expert --edit-key <KEY_ID>
```

–î–∞–ª–µ–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å¬†`gpg>`. –í–≤–æ–¥–∏–º —Ç—É–¥–∞ –∫–æ–º–∞–Ω–¥—É¬†`addkey`¬†–∏ –≤—ã–±–∏—Ä–∞–µ–º —Ç–∏–ø –∫–ª—é—á–∞. –ù–∞–º –Ω—É–∂–µ–Ω –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ (10).

```bash
gpg> addkey

–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫–ª—é—á–∞:
   (3) DSA (sign only)
   (4) RSA (sign only)
   (5) Elgamal (encrypt only)
   (6) RSA (encrypt only)
   (7) DSA (set your own capabilities)
   (8) RSA (set your own capabilities)
  (10) ECC (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏)
  (11) ECC (set your own capabilities)
  (12) ECC (encrypt only)
  (13) Existing key
  (14) Existing key from card
–í–∞—à –≤—ã–±–æ—Ä? 10
```

–î–∞–ª–µ–µ —Å–Ω–æ–≤–∞ –≤—ã–±–æ—Ä —ç–ª–∏–ø—Ç–∏—á–µ—Å–∫–æ–π –∫—Ä–∏–≤–æ–π. –û—Å—Ç–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

```bash
–í—ã–±–µ—Ä–∏—Ç–µ —ç–ª–ª–∏–ø—Ç–∏—á–µ—Å–∫—É—é –∫—Ä–∏–≤—É—é:
   (1) Curve 25519 *default*
   (2) Curve 448
   (3) NIST P-256
   (4) NIST P-384
   (5) NIST P-521
   (6) Brainpool P-256
   (7) Brainpool P-384
   (8) Brainpool P-512
   (9) secp256k1
–í–∞—à –≤—ã–±–æ—Ä? 
```

–£–∫–∞–∑—ã–≤–∞–µ–º —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤–∞–∂–Ω–æ –≤—ã–∑—ã–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É save, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á.

```bash
gpg> save
$
```

### –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
```shell
gpg --send-keys <KEY_ID>
```

> [!WARNING]
> –û–¥–Ω–∞–∫–æ, —ç—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ –≤—Å–µ–≥–¥–∞. –¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–ª—é—á –≤—Ä—É—á–Ω—É—é –Ω–∞ –æ–¥–∏–Ω –∏–∑ —Å–∞–π—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä –Ω–∞¬†[http://keyserver.ubuntu.com](http://keyserver.ubuntu.com/).
> 
> –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–≤ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –∫–æ–º–∞–Ω–¥–æ–π 
> 
> ```
> gpg --armor --export
> ```
> 


## –ü–æ–ª–µ–∑–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- [How to Configure Yubikey with GPG ‚Äì Generate and Import Keys - ICT Fella](https://ictfella.com/how-to-configure-yubikey-with-gpg-generate-and-import-keys/)
- [SSH, PGP, TOTP –≤ Yubikey 5 / –•–∞–±—Ä](https://habr.com/ru/articles/574760/)
- [The OpenNET Project: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ USB-–±—Ä–µ–ª–æ–∫–æ–≤ Yubikey –¥–ª—è –∫–ª—é—á–µ–π GPG –∏ SSH](https://www.opennet.ru/tips/3048_yubikey_crypt_ssh_gpg_auth.shtml)