---
aliases: 
tags:
  - –∑—Ä–µ–ª–æ—Å—Ç—å/üå±
date:
  - - 2024-06-10
zero-link:
  - "[[00 PostgreSQL]]"
parents:
  - "[[–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ PostgreSQL]]"
linked:
  - "[[Explain –≤ MySQL]]"
---
–ò—Å–ø–æ–ª—å–∑—É—è –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `EXPLAIN` –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º, –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, —á—Ç–æ **–ø–ª–∞–Ω–∏—Ä—É–µ—Ç** —Å–¥–µ–ª–∞—Ç—å PostgreSQL –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.

–ü—Ä–∏–º–µ—Ä –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è explain
```sql
postgres=# explain select * from users where id=20;

QUERY PLAN
-------------------------------------------------------
Index Scan using users_pkey on users (cost=0.15..8.17 rows=1 width=72)
	Index Cond: (id = 20)
(2 rows)
```

–ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –≤—Å–µ –≤ JSON.
```sql
explain(format json) select * from users where id=20;
```

> [!NOTE] Analyze
> Explain –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –ª–∏—à—å –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω—ã–º–∏. –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ `explain analyze`, —Ç–æ–≥–¥–∞ explain —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω–∏—Ç –∑–∞–ø—Ä–æ—Å.

PostgreSQL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Å–ª–æ–≤–Ω—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ - cost. –û–¥–∏–Ω cost —ç—Ç–æ –≤—Ä–µ–º—è, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞—Ç—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ 1 –±–ª–æ–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–º 8 –∫–∏–ª–æ–±–∞–π—Ç –ø—Ä–∏ Seq Scan. –ü—Ä–∏ —ç—Ç–æ–º –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 2 –∑–Ω–∞—á–µ–Ω–∏—è. –ü–µ—Ä–≤–æ–µ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–π–¥–µ—Ç –¥–æ –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–≤—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –∞ –≤—Ç–æ—Ä–∞—è –∫–æ–≥–¥–∞ –≤–µ—Ä–Ω–µ—Ç—Å—è –≤–µ—Å—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ï—Å–ª–∏ cost –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π, –∞ actual time –±–æ–ª—å—à–æ–µ, —ç—Ç–æ –º–æ–∂–µ—Ç –æ–∑–Ω–∞—á–∞—Ç—å, —á—Ç–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–±–æ—Ä–æ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. –í–æ–∑–º–æ–∂–Ω–æ –≤—ã–∫–ª—é—á–µ–Ω –∞–≤—Ç–æ–≤–∞–∫—É—É–º?

–°—Ç–æ–∏—Ç –Ω–∞–π—Ç–∏ —Å–∞–º—ã–π –¥–æ—Ä–æ–≥–æ–π —É–∑–µ–ª –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.

**–í–∏–¥—ã –ø—Ä–æ—Ö–æ–¥–æ–≤ –ø–æ –∏–Ω–¥–µ–∫—Å—É:**
- Seq Scan - –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±–ª–∏—Ü—ã. –•—É–¥—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç.
- Index Scan - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ –∏–Ω–¥–µ–∫—Å—É –≤ —Ç–∞–±–ª–∏—Ü–µ
- Index Only Scan - –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω [–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–π –∏–Ω–¥–µ–∫—Å](–ü–æ–∫—Ä—ã–≤–∞—é—â–∏–π%20–∏–Ω–¥–µ–∫—Å.md)
- Bitmap Heap Scan - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ–º –±–∏—Ç–æ–≤—ã—Ö –∫–∞—Ä—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞. –°–Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ—è—Ç—Å—è –±–∏—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤, –∑–∞—Ç–µ–º —ç—Ç–∏ –±–∏—Ç–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç—Å—è.
- Foreign Scan - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ [–®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ PostgreSQL](–®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ%20–≤%20PostgreSQL.md)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- [–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ PostgreSQL / –ò–ª—å—è –ö–æ—Å–º–æ–¥–µ–º—å—è–Ω—Å–∫–∏–π (PostgreSQL Consulting) - YouTube](https://www.youtube.com/watch?v=c-ySk8COI1c)